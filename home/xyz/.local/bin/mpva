#!/bin/sh

if [ $# -eq 0 ]; then
	# fzf has --read0, maybe useful
	find "$XDG_MUSIC_DIR" | fzf -m --print0 | xargs -0 mpv --af= --shuffle --loop-playlist=inf --video=no
elif [ $# -eq 1 ] && ! [ -d "$1" ]; then
	# use --loop-file for single file, better performance maybe
	mpv --af= --loop-file=inf --video=no "$1"
else
	mpv --af= --shuffle --loop-playlist=inf --video=no "$@"
fi
